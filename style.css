:root{
  --bg1:#ffecd2; --bg2:#ffa8a5; --accent:#F2AE2E; --ink:#2b1f1f;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:Inter,system-ui,Arial;background:#0a0a1a;color:var(--ink);}
.kbd {display:inline-block;background:#333;color:#fff;padding:2px 7px;border-radius:5px;font-size:0.9em;margin:0 3px;}

/* layout */
#game-wrapper{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:20px}
#game-container{
  width: min(98vw, 900px);
  height: min(98vh, 650px);
  border-radius:18px;overflow:hidden;position:relative;
  background:linear-gradient(180deg,var(--bg1) 0%, #F8F2E8 70%, var(--bg2) 100%);
  box-shadow:0 20px 60px rgba(0,0,0,0.6);}
#starfield{position:absolute;width:100%;height:100%;z-index:1}

/* overlay screens */
.overlay-screen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:1000;background:rgba(102,126,234,0.96);flex-direction:column;text-align:center;}
.overlay-screen h1{font-family:Georgia,serif;color:#fff;font-size:clamp(1.8rem, 6vw, 2.5rem);margin-bottom:12px;text-shadow:0 0 20px rgba(255,215,0,.6)}
.overlay-screen p{color:#f5f5f5;max-width:700px;margin-bottom:22px;line-height:1.6;font-size:clamp(1.1rem, 4vw, 1.4rem);}
.btn{border:0;padding:12px 28px;border-radius:999px;background:linear-gradient(135deg,var(--accent),#BF2A52);color:#fff;font-weight:700;cursor:pointer;font-size:clamp(1rem, 4vw, 1.2rem);}

/* HUD */
#hud{position:absolute;top:14px;left:14px;right:14px;display:flex;justify-content:space-between;z-index:1000;pointer-events:none;font-size:clamp(1rem, 3vw, 1.3rem);}
.hud-item{background:rgba(255,255,255,0.92);padding:10px 14px;border-radius:12px;font-weight:700;color:#333;pointer-events:auto}

/* player - CSS character */
#player{
  position:absolute;
  width:clamp(32px, 7vw, 60px);
  height:clamp(32px, 7vw, 60px);
  left:425px; top:520px; z-index:500;
  background:radial-gradient(circle at 45% 41%, #ffeedd 60%, #f8b2e7 100%);
  border-radius:50%; border:3px solid #fff; box-shadow:0 2px 10px #bc96e7;
  display:flex;align-items:center;justify-content:center;transition:transform .17s;
}
#player::before {
  content:"";
  position:absolute;top:40%;left:27%;width:17%;height:17%;background:#fff;border-radius:50%;
  box-shadow:46% 0 #fff;
}
#player::after {
  content:"";
  position:absolute;top:60%;left:30%;width:40%;height:20%;border-radius:0 0 24px 24px/0 0 12px 12px;border-bottom:3px solid #ed85bf;
}

#player.walk-left { transform:translateX(-2px) rotate(-8deg);}
#player.walk-right{ transform:translateX(2px)  rotate(8deg);}
#player.walk-up   { transform:translateY(-5px);}
#player.walk-down { transform:translateY(5px);}
#player.idle      { animation:float 1.6s ease-in-out infinite;}
@keyframes float{0%,100%{transform:translateY(0)}55%{transform:translateY(-6px);}}

/* enemy orb */
#enemy {
  position: absolute;
  width:clamp(20px, 4vw, 38px); height:clamp(20px, 4vw, 38px);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 25%, #333 60%, #232 100%);
  box-shadow: 0 8px 16px #2228;
  z-index: 400;
  left: 200px; top: 100px;
  border: 2.5px solid #75e275;
  display:none;
  transition:background .2s;
}
#enemy.hit {background:radial-gradient(circle at 30% 25%, #e33 60%, #600 100%);}

/* tiles */
.tile{
  position:absolute;
  width:clamp(16px, 3vw, 38px);
  height:clamp(16px, 3vw, 38px);
  border-radius:10px;box-shadow:0 6px 14px rgba(0,0,0,0.15);
  display:flex;align-items:center;justify-content:center;z-index:300;
  transition:transform .18s,opacity .2s;
}
.tile.gem{background:linear-gradient(135deg,#fae89b,#d86bff);}
.tile.collected{transform:scale(0);opacity:0;}

/* starfield */
.star{position:absolute;background:#fff;border-radius:50%;opacity:0.8;animation:twinkle 3s ease-in-out infinite}
@keyframes twinkle{0%,100%{opacity:.3;transform:scale(1)}50%{opacity:1;transform:scale(1.17)}}

/* controls */
#controls {
  position:absolute;bottom:12px;left:50%;transform:translateX(-50%);
  background:rgba(255,255,255,0.9);padding:10px 14px;
  border-radius:12px;z-index:900;display:block;font-size:clamp(1rem, 3vw, 1.3rem);
}
#mobile-controls{
  position:absolute;bottom:80px;left:50%;transform:translateX(-50%);
  display:none;gap:10px;z-index:910;
}
.control-row{display:flex;gap:10px;justify-content:center}
.control-btn{
  width:clamp(38px, 9vw, 60px);
  height:clamp(38px, 9vw, 60px);
  border-radius:50%;
  background:rgba(255,255,255,0.95);
  display:flex;align-items:center;justify-content:center;
  font-weight:700;user-select:none;
  font-size:clamp(1.5rem, 6vw, 2rem);
  box-shadow:0 4px 12px #0002;
}

/* Responsive: really small screens */
@media (max-width: 600px), (max-height: 600px) {
  #game-container {
    width: 100vw;
    height: 100vh;
    border-radius: 0;
    min-width: 0;
    min-height: 0;
  }
  #hud {
    top:5px;
    left:0;right:0;
    padding:0 4px;
    font-size:1rem;
  }
}

/* Mobile: show mobile, hide desktop controls */
@media(max-width:780px){
  #mobile-controls{display:block}
  #controls{display:none}
}
